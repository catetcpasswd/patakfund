
section(data-ng-controller="ProfileFormController", data-ng-init="getProfile()")


  div.col-sm-8.special 
    div.container
      //moved so {{user.name}} will appear 
      div.row
        br
        br
        div.panel.panel-default
          div.panel-body
            h3 Profile 
            .container
              form.form-horizontal(name="form", method="post",  novalidate, enctype="multipart/form-data")
                input(type='hidden', name = '_csrf', value = token)

                div.form-group
                  label.col-sm-2.control-label(for="name") Name:
                  .col-sm-6
                  input.form-control(type="text", name="name", id="name",  required, ng-model="profile.name", required, autofocus)
                  span.help-block(ng-show="form.username.$dirty && form.username.$error.required") Please enter your full name

                div.form-group
                  label.col-sm-2.control-label(for="birthdate") BirthDate:
                  .col-sm-6 
                  // <pre>Selected: {{profile.birthdate|json}}</pre>

                  // took out ui-date-format. now initial value is displayed
                  // see profileFormController, profile.birthdate is a string. set the profile.birthdate to new Date

                  input(style="width:100px",  name = "birthdate", ui-date='dateOptions', ng-model='profile.birthdate', data-placeholder='Enter Birthdate')

                div.form-group
                  label.col-sm-2.control-label(for="name") Location:
                  .col-sm-6
                  input.form-control(type="text", name="name", id="name", ng-model="profile.location", autofocus)

                div.form-group
                  label.col-sm-2.control-label(for="website") Website:
                  .col-sm-6
                  input.form-control(type="url", name="website", id="website", ng-model="profile.website", autofocus)

                div.form-group
                  label.col-sm-2.control-label(for="name") Bio:
                  .col-sm-6
                  textarea.form-control(rows='3', name="bio", id="bio", ng-model="profile.bio", autofocus)

                hr   

                if error
                    div.alert #{error}
                input.btn.btn-primary(type="submit", value="Save Changes",data-ng-click="updateProfile()", ng-disabled="form.$invalid", ng-disabled="$isUploading")
                br
                input.btn.btn-primary(type="submit", value="Cancel",data-ng-click="cancelProfile()")
       
       

